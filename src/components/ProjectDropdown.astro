---
import privateAdvertising from "./images/projects/private-advertising.svg";
import smartwalletProduct from "./images/projects/smartwallet.svg";
import virtualAgentProduct from "./images/projects/virtual-agent.svg";
import providerWalletProduct from "./images/projects/provider-wallet.svg";
import meeBrowserProduct from "./images/projects/mee-browser.svg";
import ButtonLink from "./ButtonLink.astro";
import MeeLogoSquare from "./MeeLogoSquare.astro";
export const discord = "https://discord.gg/PB8qxrQXup";

const projects = [
  {
    image: smartwalletProduct,
    title: "Smartwallet",
    link: "https://smartwallet.mee.foundation",
  },
  {
    image: privateAdvertising,
    title: "Private Advertising",
    link: "https://private-advertising.mee.foundation",
  },
  {
    image: meeBrowserProduct,
    title: "Mee Browser",
    comingSoon: true,
    link: "https://browser.mee.foundation",
  },
  {
    image: virtualAgentProduct,
    title: "Mee Data Network",
    link: "https://mdn.mee.foundation",
  },
  {
    image: providerWalletProduct,
    title: "Agent Service",
    link: "https://mdn.mee.foundation/docs/",
  },
];
---

<div
  id="projects-dropdown"
  class:list={[
    "top-18 fixed left-0 z-300 hidden origin-top scale-y-0 pt-12 opacity-0 transition-all duration-300 lg:block",
    "group-[.type-default]:group-hover/projects:scale-y-100 group-[.type-default]:group-hover/projects:opacity-100",
    "group-[.type-docs]:group-hover/projects:scale-y-100 group-[.type-docs]:group-hover/projects:opacity-100",
    // "group-[.type-docs]:group-[.projects]:group-hover:scale-y-100 group-[.type-docs]:group-[.projects]:group-hover:opacity-100",
    "group-hover/projects:scale-y-100 group-hover/projects:opacity-100",
  ]}
>
  <div
    class="flex h-auto w-screen items-center justify-center text-left text-base"
  >
    <div
      class:list={[
        "mx-4 flex w-full flex-col items-center justify-center rounded-2xl border border-grey-300 bg-white test font-normal text-grey-950  transition-all delay-300 duration-0 lg:max-w-5xl xl:max-w-fit",
        // "group-hover/projects:bg-transparent group-hover/projects:bg-header-bg",
      ]}
    >
      <div class="p-8">
        <div class="flex flex-wrap items-stretch justify-center gap-4">
          {
            projects.map((project) =>
              project.comingSoon ? (
                <div class="flex cursor-default rounded-2xl border border-grey-300">
                  <div class="relative flex w-full flex-col">
                    <div class="absolute left-4 top-4 flex flex-col gap-1">
                      <div class="flex w-full flex-wrap items-center gap-2 text-center text-base font-semibold text-grey-900">
                        {project.title}
                        <span class="rounded-md border border-grey-200 bg-grey-50 px-2 py-0.5 text-xxs">
                          Coming soon
                        </span>
                      </div>
                    </div>

                    <img
                      src={project.image.src}
                      class="h-full w-full rounded-2xl"
                    />
                  </div>
                </div>
              ) : (
                <a
                  class="flex rounded-2xl border border-grey-300 hover:shadow-3-strong transform-cpu transition-all"
                  href={project.link}
                >
                  <div class="relative flex w-full flex-col justify-between">
                    <div class="relative flex flex-col">
                      <div class="absolute left-4 top-4 flex w-full items-center gap-1 text-center text-base font-semibold text-grey-900">
                        {project.title}
                      </div>
                    </div>
                    <img
                      src={project.image.src}
                      class="h-full w-full rounded-2xl"
                    />
                  </div>
                </a>
              )
            )
          }
        </div>
      </div>
      <div
        class="flex w-full items-center justify-between rounded-b-2xl border-t border-grey-300 bg-gray-50 p-8"
      >
        <div class="flex gap-4">
          <MeeLogoSquare />
          <div class="flex flex-col items-start">
            <div class="text-base font-semibold">Mee community</div>
            <div class="text-base font-normal">
              The place where we meet to discuss the internetâ€™s problems.
            </div>
          </div>
        </div>

        <ButtonLink
          leftIcon="discord text-lg"
          buttonType="tertiary"
          buttonType="tertiary"
          style="outlined"
          size="l"
          href={discord}
          target="_blank"
          className="group-[.type-dark]:hidden"
        >
          Join community
        </ButtonLink>
      </div>
    </div>
  </div>
</div>